{"version":3,"file":"index.js","sources":["../node_modules/events/events.js","../node_modules/@web3-react/types/dist/types.esm.js","../node_modules/@web3-react/abstract-connector/dist/abstract-connector.esm.js","../src/lib/tools/url-tools.ts","../node_modules/@deficonnect/socket-transport/dist/esm/network.js","../node_modules/@deficonnect/socket-transport/dist/esm/index.js","../src/lib/DeFiConnectorClient.ts","../node_modules/@walletconnect/window-getters/dist/cjs/index.js","../node_modules/@walletconnect/window-metadata/dist/cjs/index.js","../node_modules/detect-browser/es/index.js","../node_modules/@deficonnect/browser-utils/dist/esm/browser.js","../src/lib/InstallExtensionModal.tsx","../node_modules/@deficonnect/browser-utils/dist/esm/mobile.js","../node_modules/long/src/long.js","../src/lib/connector/DeFiConnector.ts","../src/lib/tools/cosmos-msg-tool.ts","../src/lib/connector/DeFiCosmosProvider.ts","../src/lib/SessionStorage.ts","../src/lib/connector/DeFiWeb3Connector.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","var ConnectorEvent;\n\n(function (ConnectorEvent) {\n  ConnectorEvent[\"Update\"] = \"Web3ReactUpdate\";\n  ConnectorEvent[\"Error\"] = \"Web3ReactError\";\n  ConnectorEvent[\"Deactivate\"] = \"Web3ReactDeactivate\";\n})(ConnectorEvent || (ConnectorEvent = {}));\n\nexport { ConnectorEvent };\n//# sourceMappingURL=types.esm.js.map\n","import { EventEmitter } from 'events';\nimport { ConnectorEvent } from '@web3-react/types';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar AbstractConnector =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inheritsLoose(AbstractConnector, _EventEmitter);\n\n  function AbstractConnector(_temp) {\n    var _this;\n\n    var _ref = _temp === void 0 ? {} : _temp,\n        supportedChainIds = _ref.supportedChainIds;\n\n    _this = _EventEmitter.call(this) || this;\n    _this.supportedChainIds = supportedChainIds;\n    return _this;\n  }\n\n  var _proto = AbstractConnector.prototype;\n\n  _proto.emitUpdate = function emitUpdate(update) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Emitting '\" + ConnectorEvent.Update + \"' with payload\", update);\n    }\n\n    this.emit(ConnectorEvent.Update, update);\n  };\n\n  _proto.emitError = function emitError(error) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Emitting '\" + ConnectorEvent.Error + \"' with payload\", error);\n    }\n\n    this.emit(ConnectorEvent.Error, error);\n  };\n\n  _proto.emitDeactivate = function emitDeactivate() {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Emitting '\" + ConnectorEvent.Deactivate + \"'\");\n    }\n\n    this.emit(ConnectorEvent.Deactivate);\n  };\n\n  return AbstractConnector;\n}(EventEmitter);\n\nexport { AbstractConnector };\n//# sourceMappingURL=abstract-connector.esm.js.map\n","import { IParseURIResult } from '@deficonnect/types'\nimport { appendToQueryString, getQueryString, parseWalletConnectUri } from '@deficonnect/utils'\n\nexport const removeAllUrlParams = (url: string): string => {\n  if (!url || url.length === 0) {\n    return url\n  }\n  const splitUrl = url.split('?')\n  return splitUrl[0]\n}\n\nexport const addUrlParams = (url: string, params: any): string => {\n  if (!url || url.length === 0) {\n    return url\n  }\n  const splitUrl = url.split('?')\n  const queryString = appendToQueryString('?' + getQueryString(splitUrl[1] || ''), params)\n  return splitUrl[0] + '?' + queryString\n}\n\nexport const formatUriAddUrlParams = (uri: string, params: any): string => {\n  const result: IParseURIResult = parseWalletConnectUri(uri)\n  const bridge = encodeURIComponent(addUrlParams(decodeURIComponent(result.bridge), params))\n  return `${result.protocol}:${result.handshakeTopic}@${result.version}?bridge=${bridge}&key=${result.key}`\n}\n\nexport const replaceUriProtocol = (uri: string, protocol: string): string => {\n  const result: IParseURIResult = parseWalletConnectUri(uri)\n  const bridge = encodeURIComponent(removeAllUrlParams(decodeURIComponent(result.bridge)))\n  return `${protocol}:${result.handshakeTopic}@${result.version}?bridge=${bridge}&key=${result.key}`\n}\n\nexport const formatToCWEURI = (uri: string): string => {\n  return replaceUriProtocol(uri, 'CWE')\n}\n\nexport const formatToWCURI = (uri: string): string => {\n  return replaceUriProtocol(uri, 'wc')\n}\n\nexport const limitWords = (txt: string, length = 20): string => {\n  let str = txt\n  str = str.substr(0, length) + (str.length > length ? '...' : '')\n  return str\n}\n","class NetworkMonitor {\n    constructor() {\n        this._eventEmitters = [];\n        if (typeof window !== \"undefined\" && typeof window.addEventListener !== \"undefined\") {\n            window.addEventListener(\"online\", () => this.trigger(\"online\"));\n            window.addEventListener(\"offline\", () => this.trigger(\"offline\"));\n        }\n    }\n    on(event, callback) {\n        this._eventEmitters.push({\n            event,\n            callback,\n        });\n    }\n    trigger(event) {\n        let eventEmitters = [];\n        if (event) {\n            eventEmitters = this._eventEmitters.filter((eventEmitter) => eventEmitter.event === event);\n        }\n        eventEmitters.forEach((eventEmitter) => {\n            eventEmitter.callback();\n        });\n    }\n}\nexport default NetworkMonitor;\n//# sourceMappingURL=network.js.map","import { isBrowser, getLocation, getQueryString, detectEnv, appendToQueryString, } from \"@deficonnect/utils\";\nimport NetworkMonitor from \"./network\";\nconst WS = typeof global.WebSocket !== \"undefined\" ? global.WebSocket : require(\"ws\");\nclass SocketTransport {\n    constructor(opts) {\n        this.opts = opts;\n        this._queue = [];\n        this._events = [];\n        this._subscriptions = [];\n        this._protocol = opts.protocol;\n        this._version = opts.version;\n        this._url = \"\";\n        this._netMonitor = null;\n        this._socket = null;\n        this._nextSocket = null;\n        this._subscriptions = opts.subscriptions || [];\n        this._netMonitor = opts.netMonitor || new NetworkMonitor();\n        if (!opts.url || typeof opts.url !== \"string\") {\n            throw new Error(\"Missing or invalid WebSocket url\");\n        }\n        this._url = opts.url;\n        this._netMonitor.on(\"online\", () => this._socketCreate());\n    }\n    set readyState(value) {\n    }\n    get readyState() {\n        return this._socket ? this._socket.readyState : -1;\n    }\n    set connecting(value) {\n    }\n    get connecting() {\n        return this.readyState === 0;\n    }\n    set connected(value) {\n    }\n    get connected() {\n        return this.readyState === 1;\n    }\n    set closing(value) {\n    }\n    get closing() {\n        return this.readyState === 2;\n    }\n    set closed(value) {\n    }\n    get closed() {\n        return this.readyState === 3;\n    }\n    open() {\n        this._socketCreate();\n    }\n    close() {\n        this._socketClose();\n    }\n    send(message, topic, silent) {\n        if (!topic || typeof topic !== \"string\") {\n            throw new Error(\"Missing or invalid topic field\");\n        }\n        this._socketSend({\n            topic: topic,\n            type: \"pub\",\n            payload: message,\n            silent: !!silent,\n        });\n    }\n    subscribe(topic) {\n        this._socketSend({\n            topic: topic,\n            type: \"sub\",\n            payload: \"\",\n            silent: true,\n        });\n    }\n    on(event, callback) {\n        this._events.push({ event, callback });\n    }\n    _socketCreate() {\n        if (this._nextSocket) {\n            return;\n        }\n        const url = getWebSocketUrl(this._url, this._protocol, this._version);\n        this._nextSocket = new WS(url);\n        if (!this._nextSocket) {\n            throw new Error(\"Failed to create socket\");\n        }\n        this._nextSocket.onmessage = (event) => this._socketReceive(event);\n        this._nextSocket.onopen = () => this._socketOpen();\n        this._nextSocket.onerror = (event) => this._socketError(event);\n        this._nextSocket.onclose = () => {\n            setTimeout(() => {\n                this._nextSocket = null;\n                this._socketCreate();\n            }, 1000);\n            return;\n        };\n    }\n    _socketOpen() {\n        this._socketClose();\n        this._socket = this._nextSocket;\n        this._nextSocket = null;\n        this._queueSubscriptions();\n        this._pushQueue();\n    }\n    _socketClose() {\n        if (this._socket) {\n            this._socket.onclose = () => {\n            };\n            this._socket.close();\n        }\n    }\n    _socketSend(socketMessage) {\n        const message = JSON.stringify(socketMessage);\n        if (this._socket && this._socket.readyState === 1) {\n            this._socket.send(message);\n        }\n        else {\n            this._setToQueue(socketMessage);\n            this._socketCreate();\n        }\n    }\n    async _socketReceive(event) {\n        let socketMessage;\n        try {\n            socketMessage = JSON.parse(event.data);\n        }\n        catch (error) {\n            return;\n        }\n        this._socketSend({\n            topic: socketMessage.topic,\n            type: \"ack\",\n            payload: \"\",\n            silent: true,\n        });\n        if (this._socket && this._socket.readyState === 1) {\n            const events = this._events.filter(event => event.event === \"message\");\n            if (events && events.length) {\n                events.forEach(event => event.callback(socketMessage));\n            }\n        }\n    }\n    _socketError(e) {\n        const events = this._events.filter(event => event.event === \"error\");\n        if (events && events.length) {\n            events.forEach(event => event.callback(e));\n        }\n    }\n    _queueSubscriptions() {\n        const subscriptions = this._subscriptions;\n        subscriptions.forEach((topic) => this._queue.push({\n            topic: topic,\n            type: \"sub\",\n            payload: \"\",\n            silent: true,\n        }));\n        this._subscriptions = this.opts.subscriptions || [];\n    }\n    _setToQueue(socketMessage) {\n        this._queue.push(socketMessage);\n    }\n    _pushQueue() {\n        const queue = this._queue;\n        queue.forEach((socketMessage) => this._socketSend(socketMessage));\n        this._queue = [];\n    }\n}\nfunction getWebSocketUrl(_url, protocol, version) {\n    var _a, _b;\n    const url = _url.startsWith(\"https\")\n        ? _url.replace(\"https\", \"wss\")\n        : _url.startsWith(\"http\")\n            ? _url.replace(\"http\", \"ws\")\n            : _url;\n    const splitUrl = url.split(\"?\");\n    const params = isBrowser()\n        ? {\n            protocol,\n            version,\n            env: \"browser\",\n            host: ((_a = getLocation()) === null || _a === void 0 ? void 0 : _a.host) || \"\",\n        }\n        : {\n            protocol,\n            version,\n            env: ((_b = detectEnv()) === null || _b === void 0 ? void 0 : _b.name) || \"\",\n        };\n    const queryString = appendToQueryString(getQueryString(\"?\" + (splitUrl[1] || \"\")), params);\n    return splitUrl[0] + \"?\" + queryString;\n}\nexport default SocketTransport;\n//# sourceMappingURL=index.js.map","import Connector from '@deficonnect/core'\nimport { IWalletConnectOptions, ISessionStorage, IConnector } from '@deficonnect/types'\nimport * as cryptoLib from '@deficonnect/iso-crypto'\nimport SocketTransport from '@deficonnect/socket-transport'\nimport { parseWalletConnectUri } from '@deficonnect/utils'\nimport { ITransportLib } from '@deficonnect/types'\n\ninterface DeFiExistsConnectorClientParams {\n  connector: IConnector\n  transport: DeFiTransportLib\n}\nexport interface DeFiConnectorClientParams {\n  connectorOpts?: IWalletConnectOptions\n  sessionStorage?: ISessionStorage\n  exists?: DeFiExistsConnectorClientParams\n}\n\nexport interface DeFiTransportLib extends ITransportLib {\n  connected: boolean\n}\n\nexport class DeFiConnectorClient {\n  connector: IConnector\n  transport: DeFiTransportLib\n  sessionStorage?: ISessionStorage\n  constructor(params: DeFiConnectorClientParams) {\n    const { connectorOpts, sessionStorage, exists } = params\n    this.sessionStorage = sessionStorage\n    const session = connectorOpts?.session || sessionStorage?.getSession()\n    let bridge = connectorOpts?.bridge ?? session?.bridge\n    if (!bridge && connectorOpts?.uri) {\n      bridge = parseWalletConnectUri(connectorOpts.uri).bridge\n    }\n    let transport: DeFiTransportLib | undefined\n    if (!!exists) {\n      transport = exists.transport\n    } else if (!!bridge) {\n      transport = new SocketTransport({\n        protocol: 'wc',\n        version: 3,\n        url: bridge,\n      })\n    }\n    if (!transport) {\n      throw new Error('bridge can not be null')\n    }\n    let connector: IConnector | undefined\n    if (!!exists) {\n      connector = exists.connector\n    } else if (!!connectorOpts) {\n      connector = new Connector({\n        cryptoLib,\n        connectorOpts,\n        sessionStorage,\n        transport: transport,\n      })\n    }\n    if (!connector) {\n      throw new Error('connectorOpts can not be null')\n    }\n    this.connector = connector\n    this.transport = transport\n    this.transport.subscribe(connector.clientId)\n  }\n\n  clearSessionStorage() {\n    if (this.sessionStorage) {\n      this.sessionStorage.removeSession()\n    } else {\n      const connector = this.connector as any\n      connector._sessionStorage?.removeSession()\n    }\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== \"undefined\" && typeof window[name] !== \"undefined\") {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow(\"document\");\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow(\"document\");\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow(\"navigator\");\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow(\"navigator\");\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow(\"location\");\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow(\"location\");\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow(\"crypto\");\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow(\"crypto\");\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow(\"localStorage\");\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow(\"localStorage\");\n}\nexports.getLocalStorage = getLocalStorage;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWindowMetadata = void 0;\nconst window_getters_1 = require(\"@walletconnect/window-getters\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName(\"link\");\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute(\"rel\");\n            if (rel) {\n                if (rel.toLowerCase().indexOf(\"icon\") > -1) {\n                    const href = link.getAttribute(\"href\");\n                    if (href) {\n                        if (href.toLowerCase().indexOf(\"https:\") === -1 &&\n                            href.toLowerCase().indexOf(\"http:\") === -1 &&\n                            href.indexOf(\"//\") !== 0) {\n                            let absoluteHref = loc.protocol + \"//\" + loc.host;\n                            if (href.indexOf(\"/\") === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split(\"/\");\n                                path.pop();\n                                const finalPath = path.join(\"/\");\n                                absoluteHref += finalPath + \"/\" + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf(\"//\") === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName(\"meta\");\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = [\"itemprop\", \"property\", \"name\"]\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute(\"content\");\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return \"\";\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n//# sourceMappingURL=index.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as windowMetadata from \"@walletconnect/window-metadata\";\nimport * as windowGetters from \"@walletconnect/window-getters\";\nimport { detect, } from \"detect-browser\";\nexport function detectEnv(userAgent) {\n    return detect(userAgent);\n}\nexport function detectOS() {\n    const env = detectEnv();\n    return env && env.os ? env.os : undefined;\n}\nexport function isAndroid() {\n    const os = detectOS();\n    return os ? os.toLowerCase().includes(\"android\") : false;\n}\nexport function isIOS() {\n    const os = detectOS();\n    return os\n        ? os.toLowerCase().includes(\"ios\") ||\n            (os.toLowerCase().includes(\"mac\") && navigator.maxTouchPoints > 1)\n        : false;\n}\nexport function isMobile() {\n    const os = detectOS();\n    return os ? isAndroid() || isIOS() : false;\n}\nexport function isNode() {\n    const env = detectEnv();\n    const result = env && env.name ? env.name.toLowerCase() === \"node\" : false;\n    return result;\n}\nexport function isBrowser() {\n    const result = !isNode() && !!getNavigator();\n    return result;\n}\nexport const getFromWindow = windowGetters.getFromWindow;\nexport const getFromWindowOrThrow = windowGetters.getFromWindowOrThrow;\nexport const getDocumentOrThrow = windowGetters.getDocumentOrThrow;\nexport const getDocument = windowGetters.getDocument;\nexport const getNavigatorOrThrow = windowGetters.getNavigatorOrThrow;\nexport const getNavigator = windowGetters.getNavigator;\nexport const getLocationOrThrow = windowGetters.getLocationOrThrow;\nexport const getLocation = windowGetters.getLocation;\nexport const getCryptoOrThrow = windowGetters.getCryptoOrThrow;\nexport const getCrypto = windowGetters.getCrypto;\nexport const getLocalStorageOrThrow = windowGetters.getLocalStorageOrThrow;\nexport const getLocalStorage = windowGetters.getLocalStorage;\nexport function getClientMeta() {\n    return windowMetadata.getWindowMetadata();\n}\n//# sourceMappingURL=browser.js.map","import { createElement as CurtomCreateElement } from './CustomCreateElement'\nimport { IQRCodeModal } from '@deficonnect/types'\nimport { formatIOSMobile, isAndroid, isIOS, saveMobileLinkInfo } from '@deficonnect/browser-utils'\nimport DeFiLinkIconLight from './assets/defi-link-icon-light'\nimport ConnectStepCameraIcon from './assets/connect-step-camera-icon'\nimport LogoIcon from './assets/defi-link-icon'\nimport FeatureGlobeIcon from './assets/feature-globe-icon'\nimport FeatureLinkIcon from './assets/feature-link-icon'\nimport FeatureLockIcon from './assets/feature-lock-icon'\nimport { formatToCWEURI, replaceUriProtocol } from './tools/url-tools'\nimport QRCode from 'qrcode'\nimport { styles, BannerStyles } from './InstallExtensionModal.styles'\n\nconst iOSRegistryEntry = {\n  name: 'Crypto.com DeFi Wallet',\n  shortName: 'DeFi Wallet',\n  color: 'rgb(17, 153, 250)',\n  logo: './logos/wallet-crypto-defi.png',\n  universalLink: 'https://wallet.crypto.com',\n  deepLink: 'cryptowallet:',\n}\n\nconst openDeeplinkOrInstall = (deepLink: string, installURL: string): void => {\n  if (isIOS()) {\n    // window.open(deepLink)\n  } else {\n    // let isBlur = false\n    // window.addEventListener('blur', () => {\n    //   isBlur = true\n    // })\n    // window.addEventListener('visibilitychange', () => {\n    //   if (document.hidden) {\n    //     isBlur = true\n    //   }\n    // })\n    // window.location.href = deepLink\n    // setTimeout(() => {\n    //   if (isBlur) return\n    //   window.open(installURL)\n    // }, 1500)\n  }\n}\n\n// const downloadAppURL = 'https://bit.ly/3Bk4wzE'\nexport const InstallExtensionQRCodeModal: IQRCodeModal = {\n  open: async function (uri: string, cb: Function, opts) {\n    const CWEURI = formatToCWEURI(uri) + '&role=dapp'\n    if (isIOS()) {\n      const singleLinkHref = formatIOSMobile(CWEURI, iOSRegistryEntry)\n      // saveMobileLinkInfo({ name: 'Crypto.com DeFi Wallet', href: singleLinkHref })\n      // openDeeplinkOrInstall(singleLinkHref, downloadAppURL)\n      return\n    }\n    if (isAndroid()) {\n      const lowercaseURI = replaceUriProtocol(CWEURI, 'cwe') + '&role=dapp'\n      // saveMobileLinkInfo({\n      //   name: 'Unknown',\n      //   href: lowercaseURI, // adnroid side only support lowercase\n      // })\n      // openDeeplinkOrInstall(lowercaseURI, downloadAppURL)\n      return\n    }\n\n    // const body = document.body\n    // const popup = document.createElement('div')\n    // popup.id = 'cryptoconnect-extension'\n  },\n  close: function () {\n    window.dispatchEvent(new Event('InstallExtensionQRCodeModal_Event_close'))\n  },\n}\n\ninterface InstallExtensionModalProps {\n  qrUrl: string\n}\nexport const InstallExtensionModal = (props: InstallExtensionModalProps): JSX.Element => {\n  const { qrUrl } = props\n  const onInstallButtonClick = (): void => {\n    // window.open('https://wallet.crypto.com/api/v1/extension/install')\n  }\n  const onTermsClick = (): void => {\n    // window.open('https://crypto.com/document/ncw_tnc')\n  }\n  const onPrivacyClick = (): void => {\n    // window.open('https://crypto.com/privacy/ncw')\n  }\n  const onDownloadClick = (): void => {\n    // window.open('https://bit.ly/3Bk4wzE')\n  }\n  const stopPropagation = (event: { stopPropagation: () => void }): void => event?.stopPropagation()\n  return (\n    <div>\n    </div>\n  )\n}\n\ninterface DownloadAppBannerProps {\n  onDownloadClick: () => void\n}\nconst DownloadAppBanner = (props: DownloadAppBannerProps): JSX.Element => {\n  const { onDownloadClick } = props\n  return (\n    <div>\n    </div>\n  )\n}\n","import { setLocal } from \"./local\";\nexport const mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nexport function formatIOSMobile(uri, entry) {\n    const encodedUri = encodeURIComponent(uri);\n    return entry.universalLink\n        ? `${entry.universalLink}/wc?uri=${encodedUri}`\n        : entry.deepLink\n            ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}`\n            : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n    const focusUri = data.href.split(\"?\")[0];\n    setLocal(mobileLinkChoiceKey, Object.assign(Object.assign({}, data), { href: focusUri }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n    return registry.filter((entry) => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n    let links = registry;\n    if (whitelist) {\n        links = whitelist.map((name) => getMobileRegistryEntry(registry, name)).filter(Boolean);\n    }\n    return links;\n}\n//# sourceMappingURL=mobile.js.map","module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n","/* eslint-disable @typescript-eslint/camelcase */\nimport 'regenerator-runtime/runtime'\nimport { IWalletConnectOptions } from '@deficonnect/types'\nimport Web3Provider from '@deficonnect/web3-provider'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport { addUrlParams } from '../tools/url-tools'\nimport { DeFiConnectorClient } from '../DeFiConnectorClient'\nimport { DeFiWeb3ConnectorArguments } from './DeFiWeb3Connector'\nimport { InstallExtensionQRCodeModal } from '../InstallExtensionModal'\nimport { DeFiCosmosProvider } from './DeFiCosmosProvider'\nimport { DefaultSessionStorage } from '../SessionStorage'\n\nexport interface DeFiConnectorArguments {\n  name: string\n  supprtedChainTypes: DeFiConnectorChainType[]\n  bridge?: string\n  eth?: DeFiWeb3ConnectorArguments\n  cosmos?: DeFiCosmosConnectorArguments\n}\n\nexport interface DeFiCosmosConnectorArguments {\n  supportedChainIds: string[]\n}\n\nexport interface DeFiConnectorProviderGenerateArguments {\n  chainId: string\n  chainType: string\n  config: DeFiConnectorArguments\n  connectorClient: DeFiConnectorClient\n}\n\nexport type DeFiConnectorEventCallback = (param?: DeFiConnectorUpdate, error?: Error) => void\nexport type DeFiConnectorEventUnsubscribe = () => void\n\nexport enum DeFiConnectorUpdateEvent {\n  Update = 'DeFiConnectorUpdate',\n  Error = 'DeFiConnectorError',\n  Deactivate = 'DeFiConnectorDeactivate',\n}\n\ninterface EventEmitter {\n  event: DeFiConnectorUpdateEvent\n  callback: DeFiConnectorEventCallback\n}\n\nexport type DeFiConnectorChainType = 'eth' | 'cosmos'\nexport interface DeFiConnectorUpdate {\n  chainType?: DeFiConnectorChainType\n  chainId?: string\n  account?: string\n  provider?: DeFiConnectorProvider\n}\n\n/**\n * the type value is like = 'eth' | 'cro' | 'tcro'\n */\nexport interface DeFiAddressTuple {\n  type: string\n  address: string\n}\n\nexport type DeFiConnectorProvider = DeFiCosmosProvider | Web3Provider\n\nconst GLOBAL_DEFILINK_BRIDGE_URL = 'https://wallet-connect.crypto.com/api/v1/ncwconnect/relay/ws'\n\nconst formaChainType = (value: any): DeFiConnectorChainType => {\n  if (value === 'eth' || value === 'cosmos') {\n    return value\n  }\n  return 'eth'\n}\n\nexport class DeFiConnector extends AbstractConnector {\n  config: DeFiConnectorArguments\n  eventEmitters: EventEmitter[] = []\n  connectorClient?: DeFiConnectorClient\n\n  private _provider?: DeFiConnectorProvider\n\n  constructor(config: DeFiConnectorArguments) {\n    super()\n    this.config = config\n  }\n\n  chainId = ''\n  chainType: DeFiConnectorChainType = 'eth'\n  accounts: string[] = []\n\n  async getProvider(): Promise<any> {\n    return this.provider\n  }\n  async getChainId(): Promise<string | number> {\n    return this.chainId\n  }\n  async getAccount(): Promise<string | null> {\n    return this.accounts[0]\n  }\n\n  get _supportedChainIds(): string[] {\n    const ethChainIds = this.config.eth?.supportedChainIds.map((item) => item.toString()) ?? []\n    const cosmosChainIds = this.config.cosmos?.supportedChainIds ?? []\n    return ethChainIds.concat(cosmosChainIds)\n  }\n\n  async generateClient(): Promise<DeFiConnectorClient> {\n    let connectorClient: DeFiConnectorClient\n\n    async function checkIsReady(times = 0) {\n      return new Promise((resolve) => {\n        function check() {\n          if (times > 0 && typeof window.deficonnectClientGenerator !== 'function') {\n            setTimeout(async () => {\n              --times\n              check()\n            }, 100)\n            return\n          }\n          resolve(true)\n        }\n        check()\n      })\n    }\n\n    await checkIsReady(10)\n\n    if (typeof window.deficonnectClientGenerator === 'function') {\n      connectorClient = await window.deficonnectClientGenerator(this.config)\n      if (typeof connectorClient.clearSessionStorage == 'undefined') {\n        connectorClient.clearSessionStorage = DeFiConnectorClient.prototype.clearSessionStorage\n      }\n    } else {\n      const wcConfig: IWalletConnectOptions = {\n        bridge: addUrlParams(this.config.bridge ?? GLOBAL_DEFILINK_BRIDGE_URL, {\n          role: 'dapp',\n          dapp_name: this.config.name,\n        }),\n        qrcodeModal: InstallExtensionQRCodeModal,\n      }\n      const sessionStorage = new DefaultSessionStorage({ supportedChainIds: this._supportedChainIds })\n      connectorClient = new DeFiConnectorClient({\n        connectorOpts: wcConfig,\n        sessionStorage,\n      })\n    }\n    connectorClient.connector.on('disconnect', () => {\n      this.emitDeactivate()\n    })\n    connectorClient.connector.on('session_update', async (error: Error | null, payload: any | null) => {\n      if (error) {\n        this.emitError(error)\n        return\n      }\n      if (!payload?.params[0]) {\n        return\n      }\n      const { params: [{ chainId, chainType, accounts }] = [] } = payload\n      if (!chainId || !chainType || !accounts) {\n        return\n      }\n      this.chainId = chainId\n      this.chainType = chainType\n      this.accounts = accounts\n      this.provider = await this.generateProvider({\n        chainId,\n        chainType,\n        connectorClient,\n        config: this.config,\n      })\n      await this.provider?.enable()\n      this.emitUpdate({\n        account: accounts[0],\n        chainType,\n        chainId,\n        provider: this.provider,\n      })\n    })\n    return connectorClient\n  }\n\n  async generateProvider(params: DeFiConnectorProviderGenerateArguments): Promise<DeFiConnectorProvider> {\n    const { chainId, chainType, connectorClient } = params\n    if (typeof window.deficonnectProviderGenerator === 'function') {\n      return await window.deficonnectProviderGenerator({ chainId, chainType, config: this.config, connectorClient })\n    } else {\n      if (chainType === 'eth') {\n        return new Web3Provider({\n          ...this.config.eth,\n          connector: connectorClient.connector,\n        })\n      }\n      if (chainType === 'cosmos') {\n        return new DeFiCosmosProvider({\n          supportedChainIds: this.config.cosmos?.supportedChainIds ?? [],\n          client: connectorClient,\n        })\n      }\n    }\n    throw new Error('must provider eth or cosmos config')\n  }\n\n  async activate(): Promise<DeFiConnectorUpdate> {\n    try {\n      let connectorClient = this.connectorClient\n      if (!connectorClient) {\n        connectorClient = await this.generateClient()\n      }\n      if (this.config.supprtedChainTypes.length == 0) {\n        throw new Error('must provider supprtedNetworks')\n      }\n      const expectChainType = this.config.supprtedChainTypes[0]\n      let expectChainId = '1'\n      if (expectChainType === 'eth') {\n        if (this.config.eth == undefined) {\n          throw new Error('must provider eth config')\n        }\n        expectChainId = `${this.config.eth.supportedChainIds[0] ?? 1}`\n      }\n      if (expectChainType === 'cosmos') {\n        if (this.config.cosmos == undefined) {\n          throw new Error('must provider cosmos config')\n        }\n        expectChainId = `${this.config.cosmos.supportedChainIds[0] ?? 1}`\n      }\n      const { chainId, chainType, accounts } = await connectorClient.connector.connect({\n        chainId: expectChainId,\n        chainType: expectChainType,\n      })\n      this.chainId = chainId\n      this.chainType = formaChainType(chainType)\n      this.accounts = accounts\n      this.provider = await this.generateProvider({\n        chainId,\n        chainType,\n        connectorClient,\n        config: this.config,\n      })\n      await this.provider?.enable()\n      this.connectorClient = connectorClient\n      return {\n        account: accounts[0],\n        chainType: formaChainType(chainType),\n        chainId,\n        provider: this.provider,\n      }\n    } catch (error) {\n      console.error('DeFiConnector activate error:', error)\n      throw error\n    }\n  }\n\n  getAddressList(addressTypes: string[]): DeFiAddressTuple[] {\n    const connectorClient = this.connectorClient\n    if (!connectorClient) {\n      throw new Error('you has not active this connector')\n    }\n    return addressTypes.map((type) => {\n      return {\n        type,\n        address: connectorClient.connector.session.wallets[0].addresses[type].address,\n      }\n    })\n  }\n  public async close(): Promise<void> {\n    // called by dapp when user click the disconnect function\n\n    // avoid the dApp never being able to connect to the extension again\n    this.connectorClient?.clearSessionStorage()\n    try {\n      await this.provider?.close()\n    } finally {\n      await this.connectorClient?.connector.killSession()\n    }\n  }\n\n  async deactivate(): Promise<void> {\n    // called by dapp when chainId notsupport or something error\n\n    // avoid the dApp never being able to connect to the extension again\n    this.connectorClient?.clearSessionStorage()\n\n    if (typeof this.provider?.stop == 'function') {\n      this.provider?.stop()\n    }\n    await this.connectorClient?.connector.killSession()\n    this.emitDeactivate()\n  }\n\n  get provider(): DeFiConnectorProvider | undefined {\n    return this._provider\n  }\n  set provider(value: DeFiConnectorProvider | undefined) {\n    this._provider = value\n  }\n\n  onEvent(event: DeFiConnectorUpdateEvent, callback: DeFiConnectorEventCallback): DeFiConnectorEventUnsubscribe {\n    const eventEmitter = { event, callback }\n    this.eventEmitters.push(eventEmitter)\n    return () => {\n      this.eventEmitters = this.eventEmitters.filter((item) => item !== eventEmitter)\n    }\n  }\n\n  protected emitUpdate(update: DeFiConnectorUpdate): void {\n    this.eventEmitters.forEach((emitter) => {\n      if (emitter.event === DeFiConnectorUpdateEvent.Update) {\n        emitter.callback(update, undefined)\n      }\n    })\n  }\n\n  protected emitError(error: Error): void {\n    this.eventEmitters.forEach((emitter) => {\n      if (emitter.event === DeFiConnectorUpdateEvent.Error) {\n        emitter.callback(undefined, error)\n      }\n    })\n  }\n\n  protected emitDeactivate(): void {\n    this.eventEmitters.forEach((emitter) => {\n      if (emitter.event === DeFiConnectorUpdateEvent.Deactivate) {\n        emitter.callback(undefined, undefined)\n      }\n    })\n    this.connectorClient = undefined\n  }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { AuthInfo, SignDoc, TxBody } from 'cosmjs-types/cosmos/tx/v1beta1/tx'\nimport { fromBase64, toBase64 } from '@cosmjs/encoding'\nimport { DirectSignResponse, isTsProtoGeneratedType, TsProtoGeneratedType } from '@cosmjs/proto-signing'\nimport { defaultRegistryTypes } from '@cosmjs/stargate'\nimport Long from 'long'\nimport { CosmosSignRequestJSON, CosmosSignResponseJSON } from '../connector/CosmosTypes'\n\nfunction queryPrototypeFromUrl(typeUrl: string): TsProtoGeneratedType {\n  const ProtobufType = defaultRegistryTypes.find((item) => item[0] === typeUrl)?.[1]\n  if (ProtobufType && isTsProtoGeneratedType(ProtobufType)) {\n    return ProtobufType\n  }\n  throw new Error(`can not find ProtoGeneratedType for typeUrl:${typeUrl}`)\n}\n\nexport const transformProtoToJSON = (object: any): any => {\n  const result = {}\n  if (object instanceof Array) {\n    return object.map((item) => transformProtoToJSON(item))\n  }\n  if (object && typeof object.typeUrl === 'string' && typeof object.value === 'string') {\n    try {\n      const ProtobufType = queryPrototypeFromUrl(object.typeUrl)\n      return {\n        typeUrl: object.typeUrl,\n        value: transformProtoToJSON(ProtobufType.toJSON(ProtobufType.decode(fromBase64(object.value)))),\n      }\n    } catch (error) {\n      return object\n    }\n  }\n  for (const key in object) {\n    const value = object[key]\n    if (typeof value == 'object') {\n      result[key] = transformProtoToJSON(value)\n      continue\n    }\n    result[key] = value\n  }\n  return result\n}\n\nexport const transformJSONtoProto = (object: any): any => {\n  const result = {}\n  if (object instanceof Array) {\n    return object.map((item) => transformJSONtoProto(item))\n  }\n  if (object && typeof object.typeUrl === 'string' && typeof object.value === 'object') {\n    try {\n      const ProtobufType = queryPrototypeFromUrl(object.typeUrl)\n      const JSONValue = transformJSONtoProto(object.value)\n      const newValue = ProtobufType.encode(ProtobufType.fromJSON(JSONValue)).finish()\n      return {\n        typeUrl: object.typeUrl,\n        value: toBase64(newValue),\n      }\n    } catch (error) {\n      return object\n    }\n  }\n  for (const key in object) {\n    const value = object[key]\n    if (typeof value == 'object') {\n      result[key] = transformJSONtoProto(value)\n      continue\n    }\n    result[key] = value\n  }\n  return result\n}\n\nexport const decodeToSignRequestJSON = (signerAddress: string, signDoc: SignDoc): CosmosSignRequestJSON => {\n  const txBody = TxBody.decode(signDoc.bodyBytes)\n  const authInfo = AuthInfo.decode(signDoc.authInfoBytes)\n  return {\n    signerAddress,\n    signDoc: {\n      chainId: signDoc.chainId,\n      accountNumber: signDoc.accountNumber.toString(),\n      body: transformProtoToJSON(TxBody.toJSON(txBody)),\n      authInfo: transformProtoToJSON(AuthInfo.toJSON(authInfo)),\n    },\n  }\n}\n\nexport const encodeJSONToSignResponse = (respJSON: CosmosSignResponseJSON): DirectSignResponse => {\n  return {\n    signed: {\n      chainId: respJSON.signed.chainId,\n      accountNumber: Long.fromString(respJSON.signed.accountNumber),\n      bodyBytes: TxBody.encode(TxBody.fromJSON(transformJSONtoProto(respJSON.signed.body))).finish(),\n      authInfoBytes: AuthInfo.encode(AuthInfo.fromJSON(transformJSONtoProto(respJSON.signed.authInfo))).finish(),\n    },\n    signature: respJSON.signature,\n  }\n}\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { pubkeyType } from '@cosmjs/amino'\nimport { fromBase64, toBase64 } from '@cosmjs/encoding'\nimport { AccountData, DirectSignResponse, OfflineDirectSigner } from '@cosmjs/proto-signing'\nimport { IWalletConnectSessionWalletAdress } from '@deficonnect/types'\nimport { SignDoc, TxRaw } from 'cosmjs-types/cosmos/tx/v1beta1/tx'\nimport { DeFiConnectorClient } from '../DeFiConnectorClient'\nimport { decodeToSignRequestJSON } from '../tools/cosmos-msg-tool'\nimport { DeFiCosmosConnectorArguments } from './DeFiConnector'\n\nexport interface DeFiCosmosProviderArguments extends DeFiCosmosConnectorArguments {\n  client: DeFiConnectorClient\n}\n\nexport function isDeFiCosmosProvider(object: any): object is DeFiCosmosProvider {\n  return typeof object.isDeFiCosmosProvider !== 'undefined'\n}\n\nexport class DeFiCosmosProvider {\n  protected isDeFiCosmosProvider = true\n  public client: DeFiConnectorClient\n  public config: DeFiCosmosProviderArguments\n  constructor(config: DeFiCosmosProviderArguments) {\n    const { client } = config\n    this.config = config\n    this.client = client\n  }\n  get account(): string {\n    return this.client.connector.session.accounts[0] ?? ''\n  }\n  get currentAccountInfo(): IWalletConnectSessionWalletAdress | undefined {\n    const addresses = this.client.connector.session.wallets[0].addresses\n    const result = Object.entries(addresses).find(([key, value]) => {\n      return value.address == this.account\n    })\n    return result?.[1]\n  }\n\n  get signer(): OfflineDirectSigner {\n    const currentAccountInfo = this.currentAccountInfo\n    if (!currentAccountInfo || !currentAccountInfo.pubkey) {\n      throw new Error('can not get the OfflineSigner, there is an unsupported address type')\n    }\n    const accountData: AccountData = {\n      address: currentAccountInfo.address,\n      algo: 'secp256k1',\n      pubkey: fromBase64(currentAccountInfo.pubkey ?? ''),\n    }\n    return {\n      getAccounts: async (): Promise<AccountData[]> => [accountData],\n      signDirect: async (signerAddress: string, signDoc: SignDoc): Promise<DirectSignResponse> => {\n        const signResult = await this.sendTransaction(decodeToSignRequestJSON(signerAddress, signDoc))\n        const tx = TxRaw.decode(fromBase64(signResult))\n        const signature = toBase64(tx.signatures[0])\n        return {\n          signed: {\n            bodyBytes: tx.bodyBytes,\n            authInfoBytes: tx.authInfoBytes,\n            chainId: signDoc.chainId,\n            accountNumber: signDoc.accountNumber,\n          },\n          signature: {\n            pub_key: {\n              type: pubkeyType.secp256k1,\n              value: accountData.pubkey,\n            },\n            signature,\n          },\n        }\n      },\n    }\n  }\n\n  async enable(): Promise<string[]> {\n    if (this.client.connector.connected) {\n      return this.client.connector.accounts\n    }\n    await this.client.connector.connect({\n      chainId: this.config.supportedChainIds[0],\n      chainType: 'cosmos',\n    })\n    return this.client.connector.accounts\n  }\n\n  sendTransaction = async (payload: any): Promise<any> => {\n    const { chainId, chainType } = this.client.connector.session\n    const account = this.account\n    return this.client.connector.sendJSONRequest(\n      {\n        method: 'cosmos_sendTransaction',\n        params: [payload],\n        session: {\n          chainId: chainId as string,\n          chainType: chainType as string,\n          account,\n        },\n      },\n      {\n        forcePushNotification: true,\n      }\n    )\n  }\n\n  request = async (payload: any): Promise<any> => {\n    return undefined\n  }\n  send = async (payload: any, callback?: any): Promise<any> => {\n    return undefined\n  }\n  stop = async (): Promise<void> => {\n    // stop http requet, such as block heigh?\n  }\n  close = async (): Promise<void> => {\n    await this.client.connector.killSession()\n    await this.stop()\n  }\n}\n","import { ISessionStorage, IWalletConnectSession } from '@deficonnect/types'\nimport { getLocal, setLocal, removeLocal } from '@deficonnect/utils'\n\nconst defaultKey = 'DeFiLink_session_storage_dapp'\n\nfunction isWalletConnectSession(object: any): object is IWalletConnectSession {\n  return (\n    object &&\n    typeof object.bridge !== 'undefined' &&\n    typeof object.chainId !== 'undefined' &&\n    typeof object.chainType !== 'undefined' &&\n    typeof object.wallets !== 'undefined' &&\n    typeof object.wallets !== 'undefined' &&\n    typeof object.wallets[0] !== 'undefined' &&\n    typeof object.wallets[0].addresses !== 'undefined' &&\n    typeof object.wallets[0].addresses.eth !== 'undefined' &&\n    typeof object.accounts !== 'undefined' &&\n    object.accounts.length > 0\n  )\n}\n\ninterface DefaultSessionStorageParams {\n  key?: string\n  supportedChainIds: string[]\n}\n\nexport class DefaultSessionStorage implements ISessionStorage {\n  key: string\n  supportedChainIds: string[]\n  constructor({ key = defaultKey, supportedChainIds }: DefaultSessionStorageParams) {\n    this.key = key\n    this.supportedChainIds = supportedChainIds\n  }\n\n  getSession = (): IWalletConnectSession | null => {\n    const session = getLocal(this.key)\n    if (isWalletConnectSession(session) && this.supportedChainIds.includes(session.chainId)) {\n      return session\n    }\n    return null\n  }\n\n  setSession = (session: IWalletConnectSession): IWalletConnectSession => {\n    if (this.supportedChainIds.includes(session.chainId)) {\n      setLocal(this.key, session)\n    }\n    return session\n  }\n\n  removeSession = () => {\n    removeLocal(this.key)\n  }\n}\n","import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport { IRPCMap } from '@deficonnect/types'\nimport { getClientMeta } from '@deficonnect/utils'\nimport { DeFiConnector, DeFiConnectorUpdateEvent } from './DeFiConnector'\nimport { InjectedConnector } from '@web3-react/injected-connector'\n\nexport const URI_AVAILABLE = 'URI_AVAILABLE'\n\nexport interface DeFiWeb3ConnectorArguments {\n  supportedChainIds: number[]\n  rpc: IRPCMap\n  pollingInterval?: number\n  bridge?: string\n}\n\nexport class UserRejectedRequestError extends Error {\n  public constructor() {\n    super()\n    this.name = this.constructor.name\n    this.message = 'The user rejected the request.'\n  }\n}\n\nfunction getSupportedChains({ supportedChainIds, rpc }: DeFiWeb3ConnectorArguments): number[] | undefined {\n  if (supportedChainIds) {\n    return supportedChainIds\n  }\n  return rpc ? Object.keys(rpc).map((k) => Number(k)) : undefined\n}\n\nfunction parseToETHChainId(chainId: string | undefined): number {\n  try {\n    const parsed = parseInt(chainId ?? '0')\n    if (isNaN(parsed)) {\n      return 0\n    } else {\n      return parsed\n    }\n  } catch (error) {\n    return 0\n  }\n}\n\nexport class DeFiWeb3Connector extends AbstractConnector {\n  defiConnector: DeFiConnector\n  private _injectConnect?: InjectedConnector\n\n  constructor(config: DeFiWeb3ConnectorArguments) {\n    super({ supportedChainIds: getSupportedChains(config) })\n    const clientMeta = getClientMeta() || undefined\n\n    this.defiConnector = new DeFiConnector({\n      name: clientMeta?.name ?? '',\n      supprtedChainTypes: ['eth'],\n      bridge: config.bridge,\n      eth: config,\n    })\n    this.defiConnector.onEvent(DeFiConnectorUpdateEvent.Update, (params) => {\n      if (!params) {\n        return\n      }\n      const { chainId, provider, account } = params\n      this.emitUpdate({ chainId: parseToETHChainId(chainId), provider, account })\n    })\n    this.defiConnector.onEvent(DeFiConnectorUpdateEvent.Deactivate, () => {\n      this.emitDeactivate()\n    })\n\n    if (navigator?.userAgent?.includes('DeFiWallet') && !!window.ethereum) {\n      this._injectConnect = new InjectedConnector({ supportedChainIds: config.supportedChainIds })\n    }\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    if (this._injectConnect) {\n      return await this._injectConnect.activate()\n    }\n    const { chainId, provider, account } = await this.defiConnector.activate()\n    return { chainId: parseToETHChainId(chainId), provider, account }\n  }\n\n  public async getProvider(): Promise<any> {\n    if (this._injectConnect) {\n      return await this._injectConnect.getProvider()\n    }\n    return this.defiConnector.provider\n  }\n\n  public async getChainId(): Promise<number | string> {\n    if (this._injectConnect) {\n      return await this._injectConnect.getChainId()\n    }\n    return parseToETHChainId(this.defiConnector.chainId)\n  }\n\n  public async getAccount(): Promise<null | string> {\n    if (this._injectConnect) {\n      return await this._injectConnect.getAccount()\n    }\n    const provider = await this.getProvider()\n    return provider.send('eth_accounts').then((accounts: string[]): string => accounts[0])\n  }\n\n  public close(): Promise<void> {\n    return this.defiConnector.close()\n  }\n\n  public deactivate(): void {\n    if (this._injectConnect) {\n      return this._injectConnect.deactivate()\n    }\n    this.defiConnector.deactivate()\n  }\n}\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","_events","undefined","_eventsCount","_maxListeners","ConnectorEvent","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","create","newListener","emit","unshift","push","length","warned","w","Error","String","name","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","arguments","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","eventTargetAgnosticAddListener","flags","on","once","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","prependListener","prependOnceListener","off","list","position","originalListener","shift","index","pop","spliceOne","removeAllListeners","key","keys","rawListeners","eventNames","Promise","resolve","reject","errorListener","resolver","slice","addErrorHandlerIfEventEmitter","AbstractConnector","_EventEmitter","subClass","superClass","_temp","_this","supportedChainIds","constructor","__proto__","_proto","emitUpdate","update","process","env","NODE_ENV","log","Update","emitError","emitDeactivate","Deactivate","removeAllUrlParams","url","split","addUrlParams","params","splitUrl","queryString","appendToQueryString","getQueryString","replaceUriProtocol","uri","protocol","result","parseWalletConnectUri","bridge","encodeURIComponent","decodeURIComponent","handshakeTopic","version","formatToCWEURI","NetworkMonitor","_eventEmitters","window","trigger","event","callback","eventEmitters","filter","eventEmitter","forEach","WS","global","WebSocket","require","SocketTransport","opts","_queue","_subscriptions","_protocol","_version","_url","_netMonitor","_socket","_nextSocket","subscriptions","netMonitor","_socketCreate","readyState","connecting","connected","closing","closed","open","close","_socketClose","send","topic","silent","_socketSend","payload","subscribe","_a","_b","startsWith","replace","isBrowser","host","getLocation","detectEnv","getWebSocketUrl","onmessage","_socketReceive","onopen","_socketOpen","onerror","_socketError","onclose","setTimeout","_queueSubscriptions","_pushQueue","socketMessage","JSON","stringify","_setToQueue","async","parse","data","e","DeFiConnectorClient","connector","transport","sessionStorage","connectorOpts","exists","session","getSession","Connector","cryptoLib","clientId","clearSessionStorage","removeSession","_sessionStorage","getFromWindow","res","getFromWindowOrThrow","exports","doc","loc","window_getters_1","getDocumentOrThrow","getLocationOrThrow","getWindowMetadataOfAny","metaTags","getElementsByTagName","tag","attributes","map","getAttribute","attr","includes","content","title","getName","description","origin","icons","links","link","rel","toLowerCase","indexOf","href","absoluteHref","path","pathname","join","getIcons","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detectOS","document","navigator","product","ua","matchedRule","reduce","matched","browser","uaMatch","exec","matchUserAgent","match","versionParts","s","il","r","k","a","j","jl","__spreadArrays","output","ii","createVersionParts","searchBotMatch","parseUserAgent","userAgent","iOSRegistryEntry","shortName","color","logo","universalLink","deepLink","InstallExtensionQRCodeModal","cb","CWEURI","maxTouchPoints","isIOS","entry","endsWith","formatIOSMobile","isAndroid","dispatchEvent","Event","wasm","WebAssembly","Instance","Module","Uint8Array","Long","low","high","unsigned","isLong","obj","INT_CACHE","UINT_CACHE","fromInt","cachedObj","cache","fromBits","fromNumber","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","Math","pow","fromString","str","radix","p","substring","radixToPower","size","min","parseInt","power","mul","add","fromValue","val","TWO_PWR_16_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","toString","isZero","isNegative","eq","radixLong","div","rem1","sub","rem","remDiv","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","bit","eqz","isPositive","isOdd","isEven","equals","other","notEquals","neq","ne","lessThan","comp","lt","lessThanOrEqual","lte","le","greaterThan","gt","greaterThanOrEqual","gte","ge","compare","thisNeg","otherNeg","negate","not","addend","c48","c32","c16","c00","subtract","subtrahend","multiply","multiplier","get_high","a32","a16","a00","b32","b16","b00","divide","divisor","approx","div_u","div_s","toUnsigned","shru","shr","shl","max","floor","log2","ceil","LN2","delta","approxRes","approxRem","modulo","rem_u","rem_s","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","shr_u","toSigned","toBytes","toBytesLE","toBytesBE","hi","lo","fromBytes","bytes","fromBytesLE","fromBytesBE","DeFiConnectorUpdateEvent","transformProtoToJSON","object","item","typeUrl","ProtobufType","defaultRegistryTypes","find","_defaultRegistryTypes","isTsProtoGeneratedType","queryPrototypeFromUrl","toJSON","decode","fromBase64","DeFiCosmosProvider","config","isDeFiCosmosProvider","client","sendTransaction","sendJSONRequest","method","chainId","chainType","account","forcePushNotification","request","stop","_this2","killSession","enable","_this4","accounts","connect","entries","wallets","addresses","address","_this5","currentAccountInfo","pubkey","accountData","algo","getAccounts","signDirect","signerAddress","signDoc","_this6","txBody","TxBody","bodyBytes","authInfo","AuthInfo","authInfoBytes","accountNumber","body","decodeToSignRequestJSON","signResult","tx","TxRaw","signature","toBase64","signatures","signed","pub_key","pubkeyType","secp256k1","DefaultSessionStorage","getLocal","eth","setSession","setLocal","removeLocal","formaChainType","DeFiConnector","connectorClient","_provider","getProvider","provider","getChainId","getAccount","generateClient","times","check","deficonnectClientGenerator","checkIsReady","_this9","generateProvider","_this9$provider","wcConfig","role","dapp_name","qrcodeModal","_supportedChainIds","deficonnectProviderGenerator","_this11","Web3Provider","cosmos","_this11$config$cosmos2","activate","_this13","supprtedChainTypes","expectChainType","expectChainId","_this13$provider","getAddressList","addressTypes","_this15","_this15$provider","_this15$connectorClie2","deactivate","_this17","_this17$provider","_this17$connectorClie2","onEvent","_this18","ethChainIds","_this$config$eth","cosmosChainIds","_this$config$cosmos","UserRejectedRequestError","parseToETHChainId","parsed","DeFiWeb3Connector","rpc","defiConnector","_injectConnect","clientMeta","getClientMeta","ethereum","InjectedConnector","_this8","_this10","then","txt","substr"],"mappings":"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"}