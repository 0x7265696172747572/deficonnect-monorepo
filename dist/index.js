var e=require("@deficonnect/utils");require("regenerator-runtime/runtime");var t=require("@deficonnect/web3-provider"),n=require("@deficonnect/core"),r=require("@deficonnect/iso-crypto"),i=require("@cosmjs/amino"),o=require("@cosmjs/encoding"),s=require("cosmjs-types/cosmos/tx/v1beta1/tx"),c=require("@cosmjs/proto-signing"),u=require("@cosmjs/stargate"),a=require("@web3-react/injected-connector");function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,t}var d=/*#__PURE__*/h(t),f=/*#__PURE__*/h(n),v=/*#__PURE__*/l(r);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e,t,n){return E=_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},E.apply(null,arguments)}function C(e){var t="function"==typeof Map?new Map:void 0;return C=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},C(e)}var O,S="object"==typeof Reflect?Reflect:null,P=S&&"function"==typeof S.apply?S.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};O=S&&"function"==typeof S.ownKeys?S.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var k=Number.isNaN||function(e){return e!=e};function I(){I.init.call(this)}var L=I;I.EventEmitter=I,I.prototype._events=void 0,I.prototype._eventsCount=0,I.prototype._maxListeners=void 0;var T,x=10;function j(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function N(e){return void 0===e._maxListeners?I.defaultMaxListeners:e._maxListeners}function W(e,t,n,r){var i,o,s;if(j(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=N(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn&&console.warn(c)}return e}function B(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function U(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=B.bind(r);return i.listener=n,r.wrapFn=i,i}function A(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):D(i,i.length)}function q(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function M(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(e){if("number"!=typeof e||e<0||k(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");x=e}}),I.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},I.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||k(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},I.prototype.getMaxListeners=function(){return N(this)},I.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)P(c,this,t);else{var u=c.length,a=D(c,u);for(n=0;n<u;++n)P(a[n],this,t)}return!0},I.prototype.on=I.prototype.addListener=function(e,t){return W(this,e,t,!1)},I.prototype.prependListener=function(e,t){return W(this,e,t,!0)},I.prototype.once=function(e,t){return j(t),this.on(e,U(this,e,t)),this},I.prototype.prependOnceListener=function(e,t){return j(t),this.prependListener(e,U(this,e,t)),this},I.prototype.off=I.prototype.removeListener=function(e,t){var n,r,i,o,s;if(j(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},I.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},I.prototype.listeners=function(e){return A(this,e,!0)},I.prototype.rawListeners=function(e){return A(this,e,!1)},I.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):q.call(e,t)},I.prototype.listenerCount=q,I.prototype.eventNames=function(){return this._eventsCount>0?O(this._events):[]},L.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}M(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&M(e,"error",t,{once:!0})}(e,i)})},function(e){e.Update="Web3ReactUpdate",e.Error="Web3ReactError",e.Deactivate="Web3ReactDeactivate"}(T||(T={}));var R=
/*#__PURE__*/
function(e){var t,n;function r(t){var n,r=(void 0===t?{}:t).supportedChainIds;return(n=e.call(this)||this).supportedChainIds=r,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.emitUpdate=function(e){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+T.Update+"' with payload",e),this.emit(T.Update,e)},i.emitError=function(e){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+T.Error+"' with payload",e),this.emit(T.Error,e)},i.emitDeactivate=function(){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+T.Deactivate+"'"),this.emit(T.Deactivate)},r}(L.EventEmitter),F=function(e){return e&&0!==e.length?e.split("?")[0]:e},V=function(t,n){if(!t||0===t.length)return t;var r=t.split("?"),i=e.appendToQueryString("?"+e.getQueryString(r[1]||""),n);return r[0]+"?"+i},G=function(t,n){var r=e.parseWalletConnectUri(t),i=encodeURIComponent(F(decodeURIComponent(r.bridge)));return n+":"+r.handshakeTopic+"@"+r.version+"?bridge="+i+"&key="+r.key},Q=function(e){return G(e,"CWE")};class Z{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,t){this._eventEmitters.push({event:e,callback:t})}trigger(e){let t=[];e&&(t=this._eventEmitters.filter(t=>t.event===e)),t.forEach(e=>{e.callback()})}}const $=void 0!==global.WebSocket?global.WebSocket:require("ws");class J{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Z,!e.url||"string"!=typeof e.url)throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return 0===this.readyState}set connected(e){}get connected(){return 1===this.readyState}set closing(e){}get closing(){return 2===this.readyState}set closed(e){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(e,t,n){if(!t||"string"!=typeof t)throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,t){this._events.push({event:e,callback:t})}_socketCreate(){if(this._nextSocket)return;const t=function(t,n,r){var i,o;const s=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),c=e.isBrowser()?{protocol:n,version:r,env:"browser",host:(null===(i=e.getLocation())||void 0===i?void 0:i.host)||""}:{protocol:n,version:r,env:(null===(o=e.detectEnv())||void 0===o?void 0:o.name)||""},u=e.appendToQueryString(e.getQueryString("?"+(s[1]||"")),c);return s[0]+"?"+u}(this._url,this._protocol,this._version);if(this._nextSocket=new $(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=e=>this._socketReceive(e),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=e=>this._socketError(e),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const t=JSON.stringify(e);this._socket&&1===this._socket.readyState?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let t;try{t=JSON.parse(e.data)}catch(e){return}if(this._socketSend({topic:t.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){const e=this._events.filter(e=>"message"===e.event);e&&e.length&&e.forEach(e=>e.callback(t))}}_socketError(e){const t=this._events.filter(e=>"error"===e.event);t&&t.length&&t.forEach(t=>t.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(e=>this._queue.push({topic:e,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(e=>this._socketSend(e)),this._queue=[]}}var K=/*#__PURE__*/function(){function t(t){var n;this.connector=void 0,this.transport=void 0,this.sessionStorage=void 0;var r=t.connectorOpts,i=t.sessionStorage,o=t.exists;this.sessionStorage=i;var s,c,u=(null==r?void 0:r.session)||(null==i?void 0:i.getSession()),a=null!=(n=null==r?void 0:r.bridge)?n:null==u?void 0:u.bridge;if(!a&&null!=r&&r.uri&&(a=e.parseWalletConnectUri(r.uri).bridge),o?s=o.transport:a&&(s=new J({protocol:"wc",version:3,url:a})),!s)throw new Error("bridge can not be null");if(o?c=o.connector:r&&(c=new f.default({cryptoLib:v,connectorOpts:r,sessionStorage:i,transport:s})),!c)throw new Error("connectorOpts can not be null");this.connector=c,this.transport=s,this.transport.subscribe(c.clientId)}return t.prototype.clearSessionStorage=function(){var e;this.sessionStorage?this.sessionStorage.removeSession():null==(e=this.connector._sessionStorage)||e.removeSession()},t}();function X(e){var t={exports:{}};return e(t,t.exports),t.exports}var z=X(function(e,t){function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}});X(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowMetadata=void 0,t.getWindowMetadata=function(){let e,t;try{e=z.getDocumentOrThrow(),t=z.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],i=["itemprop","property","name"].map(e=>r.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){const e=r.getAttribute("content");if(e)return e}}return""}const r=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop(),n+=r.join("/")+"/"+e}r.push(n)}else 0===e.indexOf("//")?r.push(t.protocol+e):r.push(e)}}return r}(),name:r}}});var H=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},Y=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},ee=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},te=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ne=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},re=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ie=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],oe=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function se(){const e="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new ne:"undefined"!=typeof navigator?function(e){var t=function(e){return""!==e&&ie.reduce(function(t,n){var r=n[0];if(t)return t;var i=n[1].exec(e);return!!i&&[r,i]},!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new te;var i=r[1]&&r[1].split(/[._]/).slice(0,3);i?i.length<3&&(i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)r[i]=o[s];return r}(i,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length))):i=[];var o=i.join("."),s=function(e){for(var t=0,n=oe.length;t<n;t++){var r=oe[t],i=r[0];if(r[1].exec(e))return i}return null}(e),c=re.exec(e);return c&&c[1]?new ee(n,o,s,c[1]):new H(n,o,s)}(navigator.userAgent):"undefined"!=typeof process&&process.version?new Y(process.version.slice(1)):null;return e&&e.os?e.os:void 0}var ce={name:"Crypto.com DeFi Wallet",shortName:"DeFi Wallet",color:"rgb(17, 153, 250)",logo:"./logos/wallet-crypto-defi.png",universalLink:"https://wallet.crypto.com",deepLink:"cryptowallet:"},ue={open:function(e,t,n){try{var r=Q(e)+"&role=dapp";return function(){const e=se();return!!e&&(e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}()?(function(e,t){encodeURIComponent(e),t.universalLink||t.deepLink&&t.deepLink.endsWith(":")}(r,ce),Promise.resolve()):function(){const e=se();return!!e&&e.toLowerCase().includes("android")}()?(G(r,"cwe"),Promise.resolve()):Promise.resolve()}catch(e){return Promise.reject(e)}},close:function(){window.dispatchEvent(new Event("InstallExtensionQRCodeModal_Event_close"))}},ae=null;try{ae=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function he(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function le(e){return!0===(e&&e.__isLong__)}Object.defineProperty(he.prototype,"__isLong__",{value:!0}),he.isLong=le;var de={},fe={};function ve(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=fe[e])?r:(n=ge(e,(0|e)<0?-1:0,!0),i&&(fe[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=de[e])?r:(n=ge(e,e<0?-1:0,!1),i&&(de[e]=n),n)}function pe(e,t){if(isNaN(e))return t?Se:Oe;if(t){if(e<0)return Se;if(e>=_e)return Te}else{if(e<=-Ee)return xe;if(e+1>=Ee)return Le}return e<0?pe(-e,t).neg():ge(e%be|0,e/be|0,t)}function ge(e,t,n){return new he(e,t,n)}he.fromInt=ve,he.fromNumber=pe,he.fromBits=ge;var me=Math.pow;function ye(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Oe;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return ye(e.substring(1),t,n).neg();for(var i=pe(me(n,8)),o=Oe,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+c),n);if(c<8){var a=pe(me(n,c));o=o.mul(a).add(pe(u))}else o=(o=o.mul(i)).add(pe(u))}return o.unsigned=t,o}function we(e,t){return"number"==typeof e?pe(e,t):"string"==typeof e?ye(e,t):ge(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}he.fromString=ye,he.fromValue=we;var be=4294967296,_e=be*be,Ee=_e/2,Ce=ve(1<<24),Oe=ve(0);he.ZERO=Oe;var Se=ve(0,!0);he.UZERO=Se;var Pe=ve(1);he.ONE=Pe;var ke=ve(1,!0);he.UONE=ke;var Ie=ve(-1);he.NEG_ONE=Ie;var Le=ge(-1,2147483647,!1);he.MAX_VALUE=Le;var Te=ge(-1,-1,!0);he.MAX_UNSIGNED_VALUE=Te;var xe=ge(0,-2147483648,!1);he.MIN_VALUE=xe;var je=he.prototype;je.toInt=function(){return this.unsigned?this.low>>>0:this.low},je.toNumber=function(){return this.unsigned?(this.high>>>0)*be+(this.low>>>0):this.high*be+(this.low>>>0)},je.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(xe)){var t=pe(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=pe(me(e,6),this.unsigned),o=this,s="";;){var c=o.div(i),u=(o.sub(c.mul(i)).toInt()>>>0).toString(e);if((o=c).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},je.getHighBits=function(){return this.high},je.getHighBitsUnsigned=function(){return this.high>>>0},je.getLowBits=function(){return this.low},je.getLowBitsUnsigned=function(){return this.low>>>0},je.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xe)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},je.isZero=function(){return 0===this.high&&0===this.low},je.eqz=je.isZero,je.isNegative=function(){return!this.unsigned&&this.high<0},je.isPositive=function(){return this.unsigned||this.high>=0},je.isOdd=function(){return 1==(1&this.low)},je.isEven=function(){return 0==(1&this.low)},je.equals=function(e){return le(e)||(e=we(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},je.eq=je.equals,je.notEquals=function(e){return!this.eq(e)},je.neq=je.notEquals,je.ne=je.notEquals,je.lessThan=function(e){return this.comp(e)<0},je.lt=je.lessThan,je.lessThanOrEqual=function(e){return this.comp(e)<=0},je.lte=je.lessThanOrEqual,je.le=je.lessThanOrEqual,je.greaterThan=function(e){return this.comp(e)>0},je.gt=je.greaterThan,je.greaterThanOrEqual=function(e){return this.comp(e)>=0},je.gte=je.greaterThanOrEqual,je.ge=je.greaterThanOrEqual,je.compare=function(e){if(le(e)||(e=we(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},je.comp=je.compare,je.negate=function(){return!this.unsigned&&this.eq(xe)?xe:this.not().add(Pe)},je.neg=je.negate,je.add=function(e){le(e)||(e=we(e));var t=0,n=0,r=0,i=0;return r+=(i+=(65535&this.low)+(65535&e.low))>>>16,n+=(r+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(n+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),ge((r&=65535)<<16|(i&=65535),(t&=65535)<<16|(n&=65535),this.unsigned)},je.subtract=function(e){return le(e)||(e=we(e)),this.add(e.neg())},je.sub=je.subtract,je.multiply=function(e){if(this.isZero())return Oe;if(le(e)||(e=we(e)),ae)return ge(ae.mul(this.low,this.high,e.low,e.high),ae.get_high(),this.unsigned);if(e.isZero())return Oe;if(this.eq(xe))return e.isOdd()?xe:Oe;if(e.eq(xe))return this.isOdd()?xe:Oe;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ce)&&e.lt(Ce))return pe(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,n=this.low>>>16,r=65535&this.low,i=65535&e.high,o=e.low>>>16,s=65535&e.low,c=0,u=0,a=0,h=0;return a+=(h+=r*s)>>>16,u+=(a+=n*s)>>>16,a&=65535,u+=(a+=r*o)>>>16,c+=(u+=t*s)>>>16,u&=65535,c+=(u+=n*o)>>>16,u&=65535,c+=(u+=r*i)>>>16,c+=(this.high>>>16)*s+t*o+n*i+r*(e.high>>>16),ge((a&=65535)<<16|(h&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},je.mul=je.multiply,je.divide=function(e){if(le(e)||(e=we(e)),e.isZero())throw Error("division by zero");var t,n,r;if(ae)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?ge((this.unsigned?ae.div_u:ae.div_s)(this.low,this.high,e.low,e.high),ae.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Se:Oe;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Se;if(e.gt(this.shru(1)))return ke;r=Se}else{if(this.eq(xe))return e.eq(Pe)||e.eq(Ie)?xe:e.eq(xe)?Pe:(t=this.shr(1).div(e).shl(1)).eq(Oe)?e.isNegative()?Pe:Ie:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(xe))return this.unsigned?Se:Oe;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=Oe}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),o=i<=48?1:me(2,i-48),s=pe(t),c=s.mul(e);c.isNegative()||c.gt(n);)c=(s=pe(t-=o,this.unsigned)).mul(e);s.isZero()&&(s=Pe),r=r.add(s),n=n.sub(c)}return r},je.div=je.divide,je.modulo=function(e){return le(e)||(e=we(e)),ae?ge((this.unsigned?ae.rem_u:ae.rem_s)(this.low,this.high,e.low,e.high),ae.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},je.mod=je.modulo,je.rem=je.modulo,je.not=function(){return ge(~this.low,~this.high,this.unsigned)},je.and=function(e){return le(e)||(e=we(e)),ge(this.low&e.low,this.high&e.high,this.unsigned)},je.or=function(e){return le(e)||(e=we(e)),ge(this.low|e.low,this.high|e.high,this.unsigned)},je.xor=function(e){return le(e)||(e=we(e)),ge(this.low^e.low,this.high^e.high,this.unsigned)},je.shiftLeft=function(e){return le(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?ge(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ge(0,this.low<<e-32,this.unsigned)},je.shl=je.shiftLeft,je.shiftRight=function(e){return le(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?ge(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ge(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},je.shr=je.shiftRight,je.shiftRightUnsigned=function(e){if(le(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?ge(this.low>>>e|t<<32-e,t>>>e,this.unsigned):ge(32===e?t:t>>>e-32,0,this.unsigned)},je.shru=je.shiftRightUnsigned,je.shr_u=je.shiftRightUnsigned,je.toSigned=function(){return this.unsigned?ge(this.low,this.high,!1):this},je.toUnsigned=function(){return this.unsigned?this:ge(this.low,this.high,!0)},je.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},je.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},je.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},he.fromBytes=function(e,t,n){return n?he.fromBytesLE(e,t):he.fromBytesBE(e,t)},he.fromBytesLE=function(e,t){return new he(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},he.fromBytesBE=function(e,t){return new he(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Ne,We=function e(t){var n={};if(t instanceof Array)return t.map(function(t){return e(t)});if(t&&"string"==typeof t.typeUrl&&"string"==typeof t.value)try{var r=function(e){var t,n=null==(t=u.defaultRegistryTypes.find(function(t){return t[0]===e}))?void 0:t[1];if(n&&c.isTsProtoGeneratedType(n))return n;throw new Error("can not find ProtoGeneratedType for typeUrl:"+e)}(t.typeUrl);return{typeUrl:t.typeUrl,value:e(r.toJSON(r.decode(o.fromBase64(t.value))))}}catch(e){return t}for(var i in t){var s=t[i];n[i]="object"!=typeof s?s:e(s)}return n},Be=/*#__PURE__*/function(){function e(e){var t=this,n=this;this.isDeFiCosmosProvider=!0,this.client=void 0,this.config=void 0,this.sendTransaction=function(e){try{var n=t.client.connector.session;return Promise.resolve(t.client.connector.sendJSONRequest({method:"cosmos_sendTransaction",params:[e],session:{chainId:n.chainId,chainType:n.chainType,account:t.account}},{forcePushNotification:!0}))}catch(e){return Promise.reject(e)}},this.request=function(e){return Promise.resolve(void 0)},this.send=function(e,t){return Promise.resolve(void 0)},this.stop=function(){return Promise.resolve()},this.close=function(){try{return Promise.resolve(n.client.connector.killSession()).then(function(){return Promise.resolve(n.stop()).then(function(){})})}catch(e){return Promise.reject(e)}};var r=e.client;this.config=e,this.client=r}return e.prototype.enable=function(){try{var e=this;return e.client.connector.connected?Promise.resolve(e.client.connector.accounts):Promise.resolve(e.client.connector.connect({chainId:e.config.supportedChainIds[0],chainType:"cosmos"})).then(function(){return e.client.connector.accounts})}catch(e){return Promise.reject(e)}},g(e,[{key:"account",get:function(){var e;return null!=(e=this.client.connector.session.accounts[0])?e:""}},{key:"currentAccountInfo",get:function(){var e=this,t=Object.entries(this.client.connector.session.wallets[0].addresses).find(function(t){return t[1].address==e.account});return null==t?void 0:t[1]}},{key:"signer",get:function(){var e,t=this,n=this.currentAccountInfo;if(!n||!n.pubkey)throw new Error("can not get the OfflineSigner, there is an unsupported address type");var r={address:n.address,algo:"secp256k1",pubkey:o.fromBase64(null!=(e=n.pubkey)?e:"")};return{getAccounts:function(){return Promise.resolve([r])},signDirect:function(e,n){try{return Promise.resolve(t.sendTransaction(function(e,t){var n=s.TxBody.decode(t.bodyBytes),r=s.AuthInfo.decode(t.authInfoBytes);return{signerAddress:e,signDoc:{chainId:t.chainId,accountNumber:t.accountNumber.toString(),body:We(s.TxBody.toJSON(n)),authInfo:We(s.AuthInfo.toJSON(r))}}}(e,n))).then(function(e){var t=s.TxRaw.decode(o.fromBase64(e)),c=o.toBase64(t.signatures[0]);return{signed:{bodyBytes:t.bodyBytes,authInfoBytes:t.authInfoBytes,chainId:n.chainId,accountNumber:n.accountNumber},signature:{pub_key:{type:i.pubkeyType.secp256k1,value:r.pubkey},signature:c}}})}catch(e){return Promise.reject(e)}}}}}]),e}(),Ue=function(t){var n=this,r=t.key,i=void 0===r?"DeFiLink_session_storage_dapp":r,o=t.supportedChainIds;this.key=void 0,this.supportedChainIds=void 0,this.getSession=function(){var t,r=e.getLocal(n.key);return(t=r)&&void 0!==t.bridge&&void 0!==t.chainId&&void 0!==t.chainType&&void 0!==t.wallets&&void 0!==t.wallets&&void 0!==t.wallets[0]&&void 0!==t.wallets[0].addresses&&void 0!==t.wallets[0].addresses.eth&&void 0!==t.accounts&&t.accounts.length>0&&n.supportedChainIds.includes(r.chainId)?r:null},this.setSession=function(t){return n.supportedChainIds.includes(t.chainId)&&e.setLocal(n.key,t),t},this.removeSession=function(){e.removeLocal(n.key)},this.key=i,this.supportedChainIds=o};exports.DeFiConnectorUpdateEvent=void 0,(Ne=exports.DeFiConnectorUpdateEvent||(exports.DeFiConnectorUpdateEvent={})).Update="DeFiConnectorUpdate",Ne.Error="DeFiConnectorError",Ne.Deactivate="DeFiConnectorDeactivate";var Ae=function(e){return"eth"===e||"cosmos"===e?e:"eth"},qe=/*#__PURE__*/function(e){function t(t){var n;return(n=e.call(this)||this).config=void 0,n.eventEmitters=[],n.connectorClient=void 0,n._provider=void 0,n.chainId="",n.chainType="eth",n.accounts=[],n.config=t,n}y(t,e);var n=t.prototype;return n.getProvider=function(){try{return Promise.resolve(this.provider)}catch(e){return Promise.reject(e)}},n.getChainId=function(){try{return Promise.resolve(this.chainId)}catch(e){return Promise.reject(e)}},n.getAccount=function(){try{return Promise.resolve(this.accounts[0])}catch(e){return Promise.reject(e)}},n.generateClient=function(){try{var e,t=this;return Promise.resolve(function(e){void 0===e&&(e=0);try{return Promise.resolve(new Promise(function(t){!function n(){e>0&&"function"!=typeof window.deficonnectClientGenerator?setTimeout(function(){try{return--e,n(),Promise.resolve()}catch(e){return Promise.reject(e)}},100):t(!0)}()}))}catch(e){return Promise.reject(e)}}(10)).then(function(){function n(){return e.connector.on("disconnect",function(){t.emitDeactivate()}),e.connector.on("session_update",function(n,r){try{if(n)return t.emitError(n),Promise.resolve();if(null==r||!r.params[0])return Promise.resolve();var i=r.params,o=(i=void 0===i?[]:i)[0],s=o.chainId,c=o.chainType,u=o.accounts;return s&&c&&u?(t.chainId=s,t.chainType=c,t.accounts=u,Promise.resolve(t.generateProvider({chainId:s,chainType:c,connectorClient:e,config:t.config})).then(function(e){var n;return t.provider=e,Promise.resolve(null==(n=t.provider)?void 0:n.enable()).then(function(){t.emitUpdate({account:u[0],chainType:c,chainId:s,provider:t.provider})})})):Promise.resolve()}catch(e){return Promise.reject(e)}}),e}var r=function(){if("function"==typeof window.deficonnectClientGenerator)return Promise.resolve(window.deficonnectClientGenerator(t.config)).then(function(t){void 0===(e=t).clearSessionStorage&&(e.clearSessionStorage=K.prototype.clearSessionStorage)});var n,r={bridge:V(null!=(n=t.config.bridge)?n:"https://wallet-connect.crypto.com/api/v1/ncwconnect/relay/ws",{role:"dapp",dapp_name:t.config.name}),qrcodeModal:ue},i=new Ue({supportedChainIds:t._supportedChainIds});e=new K({connectorOpts:r,sessionStorage:i})}();return r&&r.then?r.then(n):n()})}catch(e){return Promise.reject(e)}},n.generateProvider=function(e){try{var t,n=function(e){if(t)return e;throw new Error("must provider eth or cosmos config")},r=this,i=e.chainType,o=e.connectorClient,s="function"==typeof window.deficonnectProviderGenerator?(t=1,Promise.resolve(window.deficonnectProviderGenerator({chainId:e.chainId,chainType:i,config:r.config,connectorClient:o}))):"eth"===i?(t=1,new d.default(m({},r.config.eth,{connector:o.connector}))):"cosmos"===i?(t=1,new Be({supportedChainIds:null!=(c=null==(u=r.config.cosmos)?void 0:u.supportedChainIds)?c:[],client:o})):void 0;return Promise.resolve(s&&s.then?s.then(n):n(s))}catch(e){return Promise.reject(e)}var c,u},n.activate=function(){try{var e=this;return Promise.resolve(function(t,n){try{var r=function(){function t(){if(0==e.config.supprtedChainTypes.length)throw new Error("must provider supprtedNetworks");var t=e.config.supprtedChainTypes[0],r="1";if("eth"===t){var i;if(null==e.config.eth)throw new Error("must provider eth config");r=""+(null!=(i=e.config.eth.supportedChainIds[0])?i:1)}if("cosmos"===t){var o;if(null==e.config.cosmos)throw new Error("must provider cosmos config");r=""+(null!=(o=e.config.cosmos.supportedChainIds[0])?o:1)}return Promise.resolve(n.connector.connect({chainId:r,chainType:t})).then(function(t){var r=t.chainId,i=t.chainType,o=t.accounts;return e.chainId=r,e.chainType=Ae(i),e.accounts=o,Promise.resolve(e.generateProvider({chainId:r,chainType:i,connectorClient:n,config:e.config})).then(function(t){var s;return e.provider=t,Promise.resolve(null==(s=e.provider)?void 0:s.enable()).then(function(){return e.connectorClient=n,{account:o[0],chainType:Ae(i),chainId:r,provider:e.provider}})})})}var n=e.connectorClient,r=function(){if(!n)return Promise.resolve(e.generateClient()).then(function(e){n=e})}();return r&&r.then?r.then(t):t()}()}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,function(e){throw console.error("DeFiConnector activate error:",e),e}))}catch(e){return Promise.reject(e)}},n.getAddressList=function(e){var t=this.connectorClient;if(!t)throw new Error("you has not active this connector");return e.map(function(e){return{type:e,address:t.connector.session.wallets[0].addresses[e].address}})},n.close=function(){try{var e,t=this;null==(e=t.connectorClient)||e.clearSessionStorage();var n=function(e,n){try{var r=Promise.resolve(null==(i=t.provider)?void 0:i.close()).then(function(){})}catch(e){return n(!0,e)}var i;return r&&r.then?r.then(n.bind(null,!1),n.bind(null,!0)):n(!1,r)}(0,function(e,n){var r;return Promise.resolve(null==(r=t.connectorClient)?void 0:r.connector.killSession()).then(function(){if(e)throw n;return n})});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},n.deactivate=function(){try{var e,t,n,r,i=this;return null==(e=i.connectorClient)||e.clearSessionStorage(),"function"==typeof(null==(t=i.provider)?void 0:t.stop)&&(null==(r=i.provider)||r.stop()),Promise.resolve(null==(n=i.connectorClient)?void 0:n.connector.killSession()).then(function(){i.emitDeactivate()})}catch(e){return Promise.reject(e)}},n.onEvent=function(e,t){var n=this,r={event:e,callback:t};return this.eventEmitters.push(r),function(){n.eventEmitters=n.eventEmitters.filter(function(e){return e!==r})}},n.emitUpdate=function(e){this.eventEmitters.forEach(function(t){t.event===exports.DeFiConnectorUpdateEvent.Update&&t.callback(e,void 0)})},n.emitError=function(e){this.eventEmitters.forEach(function(t){t.event===exports.DeFiConnectorUpdateEvent.Error&&t.callback(void 0,e)})},n.emitDeactivate=function(){this.eventEmitters.forEach(function(e){e.event===exports.DeFiConnectorUpdateEvent.Deactivate&&e.callback(void 0,void 0)}),this.connectorClient=void 0},g(t,[{key:"_supportedChainIds",get:function(){var e,t,n,r,i=null!=(e=null==(t=this.config.eth)?void 0:t.supportedChainIds.map(function(e){return e.toString()}))?e:[],o=null!=(n=null==(r=this.config.cosmos)?void 0:r.supportedChainIds)?n:[];return i.concat(o)}},{key:"provider",get:function(){return this._provider},set:function(e){this._provider=e}}]),t}(R),De=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="The user rejected the request.",t}return y(t,e),t}(/*#__PURE__*/C(Error));function Me(e){try{var t=parseInt(null!=e?e:"0");return isNaN(t)?0:t}catch(e){return 0}}var Re=/*#__PURE__*/function(t){function n(n){var r,i,o,s,c,u,h;(s=t.call(this,{supportedChainIds:(c=n,u=c.supportedChainIds,h=c.rpc,u||(h?Object.keys(h).map(function(e){return Number(e)}):void 0))})||this).defiConnector=void 0,s._injectConnect=void 0;var l=e.getClientMeta()||void 0;return s.defiConnector=new qe({name:null!=(r=null==l?void 0:l.name)?r:"",supprtedChainTypes:["eth"],bridge:n.bridge,eth:n}),s.defiConnector.onEvent(exports.DeFiConnectorUpdateEvent.Update,function(e){if(e){var t=e.provider,n=e.account;s.emitUpdate({chainId:Me(e.chainId),provider:t,account:n})}}),s.defiConnector.onEvent(exports.DeFiConnectorUpdateEvent.Deactivate,function(){s.emitDeactivate()}),null!=(i=navigator)&&null!=(o=i.userAgent)&&o.includes("DeFiWallet")&&window.ethereum&&(s._injectConnect=new a.InjectedConnector({supportedChainIds:n.supportedChainIds})),s}y(n,t);var r=n.prototype;return r.activate=function(){try{var e,t=function(t){return e?t:Promise.resolve(n.defiConnector.activate()).then(function(e){var t=e.provider,n=e.account;return{chainId:Me(e.chainId),provider:t,account:n}})},n=this,r=function(){if(n._injectConnect)return e=1,Promise.resolve(n._injectConnect.activate())}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.getProvider=function(){try{var e,t=function(t){return e?t:n.defiConnector.provider},n=this,r=function(){if(n._injectConnect)return e=1,Promise.resolve(n._injectConnect.getProvider())}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.getChainId=function(){try{var e,t=function(t){return e?t:Me(n.defiConnector.chainId)},n=this,r=function(){if(n._injectConnect)return e=1,Promise.resolve(n._injectConnect.getChainId())}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.getAccount=function(){try{var e,t=function(t){return e?t:Promise.resolve(n.getProvider()).then(function(e){return e.send("eth_accounts").then(function(e){return e[0]})})},n=this,r=function(){if(n._injectConnect)return e=1,Promise.resolve(n._injectConnect.getAccount())}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.close=function(){return this.defiConnector.close()},r.deactivate=function(){if(this._injectConnect)return this._injectConnect.deactivate();this.defiConnector.deactivate()},n}(R);exports.DeFiConnector=qe,exports.DeFiConnectorClient=K,exports.DeFiCosmosProvider=Be,exports.DeFiWeb3Connector=Re,exports.URI_AVAILABLE="URI_AVAILABLE",exports.UserRejectedRequestError=De,exports.addUrlParams=V,exports.formatToCWEURI=Q,exports.formatToWCURI=function(e){return G(e,"wc")},exports.formatUriAddUrlParams=function(t,n){var r=e.parseWalletConnectUri(t),i=encodeURIComponent(V(decodeURIComponent(r.bridge),n));return r.protocol+":"+r.handshakeTopic+"@"+r.version+"?bridge="+i+"&key="+r.key},exports.isDeFiCosmosProvider=function(e){return void 0!==e.isDeFiCosmosProvider},exports.limitWords=function(e,t){void 0===t&&(t=20);var n=e;return n.substr(0,t)+(n.length>t?"...":"")},exports.removeAllUrlParams=F,exports.replaceUriProtocol=G;
//# sourceMappingURL=index.js.map
